(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{211:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(0),r=a.n(n),c=a(10),l=a(4),s=a(17),o=a(21),m=a(9),i=a(3),u=function(){var e=Object(o.a)(m.c).data;return r.a.createElement(r.a.Fragment,null,e?r.a.createElement("div",{className:"links-cloud-wrap"},r.a.createElement("h3",{className:"title"},"Categories"),r.a.createElement("div",{className:"links-cloud"},Object.keys(c.a).map((function(t,a){var n;return r.a.createElement(l.b,{key:a,to:Object(i.p)(i.c,new Map([[i.e,t]]))},t,r.a.createElement("span",{className:"ctg-count"},(null==e||null===(n=e[t])||void 0===n?void 0:n.count)||0))})))):r.a.createElement("div",{className:"loader-container"},r.a.createElement(s.a,null)))}},212:function(e,t,a){"use strict";var n=a(8),r=a.n(n),c=a(14),l=a.n(c),s=a(15),o=a.n(s),m=a(6),i=a.n(m),u=a(0),p=a.n(u),d=a(7),E=a(21),f=a(9),v=a(3);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){o()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={userName:"",password:""},N={usernameError:!1,passwordError:!1};t.a=function(){var e=Object(u.useState)(g({},h)),t=i()(e,2),a=t[0],n=t[1],c=Object(u.useState)(g({},N)),s=i()(c,2),m=s[0],w=s[1],b=Object(d.g)(),j=Object(E.a)(Object(v.p)(f.h,new Map([[v.g,null==a?void 0:a.userName],[v.j,null==a?void 0:a.password]])),!0,{credentials:"include"}),O=j.data,y=j.get;Object(u.useEffect)((function(){if(null!==O)if(O.success){sessionStorage.setItem("isLoggedIn",!0),k();var e=O.fullName;window.toaster.addMessage("Welcome, "+e+"!","info"),sessionStorage.setItem("name",e),sessionStorage.getItem("prevUrl")?b.push(sessionStorage.getItem("prevUrl")):b.push("/")}else window.toaster.addMessage("Not a valid username or password!","error")}),[O]);var x=function(e){var t=e.target,r=t.name,c=t.value;n(g(g({},a),{},o()({},r,c)))},k=function(){n(g({},h)),n(g({},N))},S=function(){var e=l()(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={},Object.keys(h).forEach((function(e){return n["".concat(e,"Error")]=!a[e]})),w(n),a.userName&&a.password?y():window.toaster.addMessage("The field is required!","error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return p.a.createElement("section",{className:"login-field"},p.a.createElement("form",null,p.a.createElement("fieldset",null,p.a.createElement("legend",{className:"title"},"Please log in"),p.a.createElement("label",null,p.a.createElement("input",{value:a.userName,onChange:x,type:"text",name:"userName",placeholder:"Username",className:"text"+(m.userNameError?" error-active":"")})),p.a.createElement("label",null,p.a.createElement("input",{value:a.password,onChange:x,type:"password",name:"password",className:"text"+(m.passwordError?" error-active":""),placeholder:"Password"})),p.a.createElement("input",{type:"submit",value:"Login",onClick:S}),p.a.createElement("div",{className:"result-cont"}))))}},237:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a.n(n),c=a(6),l=a.n(c),s=a(0),o=a.n(s),m=a(8),i=a.n(m),u=a(14),p=a.n(u),d=a(17),E=a(9),f=a(3),v=1,w=2,g=3,h=function(e){var t=e.comment,a=t.userAvatar,n=t.fullName,r=t.date,c=t.text;return o.a.createElement("li",null,o.a.createElement("div",{className:"comment-area"},o.a.createElement("div",{className:"avatar-wrap"},o.a.createElement("figure",null,o.a.createElement("img",{height:"72",src:a,className:"avatar"}))),o.a.createElement("div",{className:"comment-wrap"},o.a.createElement("cite",{className:"fn"},o.a.createElement("a",{href:"javascript:"},n)),o.a.createElement("div",{className:"comment-metadata"},o.a.createElement("a",{href:"javascript:"},r)),o.a.createElement("div",{className:"comment-body"},o.a.createElement("p",null,c)))))},N=function(e){var t=e.newComment,a=e.recipeId,n=Object(s.useState)([]),c=l()(n,2),m=c[0],u=c[1],N=Object(s.useState)(0),b=l()(N,2),j=b[0],O=b[1],y=Object(s.useState)(v),x=l()(y,2),k=x[0],S=x[1],L=Object(s.useState)(0),C=l()(L,2),M=C[0],I=C[1],P=function(){var e=p()(i.a.mark((function e(){var t,n,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(v),e.next=3,fetch(Object(E.n)(E.e,new Map([[f.i,a],[f.h,j],[f.f,3]])));case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,c=j+3,u([].concat(r()(m),r()(n.list))),O(c),S(n.count>c?w:g),I(n.count);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){p()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(s.useEffect)((function(){u([t].concat(r()(m))),I(M+1)}),[t]),o.a.createElement("section",{className:"comments"},o.a.createElement("h3",null,M," Comments"),o.a.createElement("ol",{className:"commentslist"},m.map((function(e,t){return o.a.createElement(h,{comment:e,key:t})}))),o.a.createElement("div",{className:"form-submit"},k===v&&o.a.createElement("div",{className:"loader-container"},o.a.createElement(d.a,null)),k===w&&o.a.createElement("input",{className:"loadMore-button",type:"button",onClick:P,value:"Load More..."})))},b=a(21),j=1,O=2,y=function(e){var t=Object(s.useState)(""),a=l()(t,2),n=a[0],r=a[1],c=Object(s.useState)({id:0}),m=l()(c,2),u=m[0],f=m[1],v=Object(s.useState)(O),w=l()(v,2),g=w[0],h=w[1],y=Object(s.useState)(!1),x=l()(y,2),k=x[0],S=x[1],L=Object(b.a)(E.a,!0,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({commentText:n,recipeId:e.recipeId}),credentials:"include"}),C=L.data,M=L.get;Object(s.useEffect)((function(){null!==C&&(C.success?(window.toaster.addMessage("Comment was successfully added!","info"),r(""),h(O),f(C.comment)):window.toaster.addMessage("Server returned error","error"))}),[C]);var I=function(){var e=p()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=4;break}return window.toaster.addMessage("Please enter your comment here!","error"),S(!0),e.abrupt("return");case 4:S(!1),h(j),M();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement("section",{className:"comment-respond"},o.a.createElement("div",{className:"article-container"},sessionStorage.getItem("isLoggedIn")&&o.a.createElement("section",{className:"comment-respond"},o.a.createElement("h3",{className:"comment-respond-title"},"Leave a Comment"),o.a.createElement("p",null,o.a.createElement("label",{htmlFor:"comment"},"Message"),o.a.createElement("textarea",{className:k?"textar-error":"",cols:"35",rows:"5",value:n,onChange:function(e){var t=e.target.value;r(t)},placeholder:"Please comment here..."})),o.a.createElement("div",{className:"form-submit"},g===j&&o.a.createElement("div",{className:"loader-container"},o.a.createElement(d.a,null)),g===O&&o.a.createElement("input",{type:"button",onClick:I,value:"Post Comment"}))),o.a.createElement(N,{newComment:u,recipeId:e.recipeId}),!sessionStorage.getItem("isLoggedIn")&&o.a.createElement("div",{className:"comments-notice"},"You need to sign in to comment")))},x=a(23),k=a(29),S=a(212),L=a(15),C=a.n(L),M=function(e){var t,a,n,r,c=Object(s.useState)(!1),m=l()(c,2),i=m[0],u=m[1],p=Object(s.useState)([]),d=l()(p,2),E=d[0],f=d[1],v=Object(s.useState)(0),w=l()(v,2),g=w[0],h=w[1];return Object(s.useEffect)((function(){f(e.pictures)}),[]),o.a.createElement("div",{className:"gallery-wrap"},o.a.createElement("ul",{className:"gallery-content"},E.map((function(e,t){return o.a.createElement("li",{key:t,className:"gallery-item"},o.a.createElement("a",{href:"javascript:",onClick:function(){return h(t),void u(!0)}},o.a.createElement("img",{src:e.photo})))}))),o.a.createElement("div",{className:"modal-box".concat(i?" active":"")},o.a.createElement("div",{className:"modal-box-content"},o.a.createElement("div",{className:"close-btn-wrap"},o.a.createElement("span",{onClick:function(){u(!1)}},o.a.createElement("svg",(t={fill:"white",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},C()(t,"xmlns","http://www.w3.org/1999/xlink"),C()(t,"x","0px"),C()(t,"y","0px"),C()(t,"width","100%"),C()(t,"height","100%"),C()(t,"viewBox","0 0 512 512"),C()(t,"xml","preserve"),t),o.a.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))),o.a.createElement("div",{className:"img-wrap"},o.a.createElement("img",{src:null===(a=E.filter((function(e,t){return t===g}))[0])||void 0===a?void 0:a.photo})),o.a.createElement("div",{className:"arrows-wrap"},o.a.createElement("div",{className:"prev-arrow ".concat(0===g?"disabled":""," "),onClick:function(){0!==g&&h(g-1)}},o.a.createElement("svg",(n={fill:"white",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},C()(n,"xmlns","http://www.w3.org/1999/xlink"),C()(n,"x","0px"),C()(n,"y","0px"),C()(n,"width","100%"),C()(n,"height","100%"),C()(n,"viewBox","0 0 512 512"),C()(n,"xml","preserve"),n),o.a.createElement("path",{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"}))),o.a.createElement("div",{className:"next-arrow ".concat(g===E.length-1?"disabled":""),onClick:function(){g!==E.length-1&&h(g+1)}},o.a.createElement("svg",(r={fill:"white",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},C()(r,"xmlns","http://www.w3.org/1999/xlink"),C()(r,"x","0px"),C()(r,"y","0px"),C()(r,"width","100%"),C()(r,"height","100%"),C()(r,"viewBox","0 0 512 512"),C()(r,"xml","preserve"),r),o.a.createElement("path",{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"})))),o.a.createElement("div",{className:"count-wrap"},o.a.createElement("span",null,g+1)," of ",E.length))))},I=a(1),P=a.n(I),D=a(4),Y=a(211);t.default=function(e){var t=Object(s.useState)([]),a=l()(t,2),n=a[0],c=a[1],m=e.match.params.id,i=Object(b.a)(Object(f.p)(E.j,new Map([[f.i,m]]))),u=i.data,p=i.error,v=i.fetching;Object(s.useEffect)((function(){(null==u?void 0:u.ingredients)&&c(u.ingredients.map((function(){return!1})))}),[u]);return o.a.createElement(x.a,null,v?o.a.createElement("div",{className:"loader-container"},o.a.createElement(d.a,null)):!u||p||u.error?o.a.createElement("div",{className:"error-cont"},"Recipe not found..."):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"column-content"},o.a.createElement("div",{className:"article-container"},o.a.createElement("article",{className:"post-col-main complete"},o.a.createElement("div",{className:"post-thumb"},o.a.createElement("a",{href:"javascript:",title:""},o.a.createElement("img",{width:"100%",src:u.photos.length&&u.photos[0].photo}))),o.a.createElement("section",{className:"post-body"},o.a.createElement("h1",{className:"post-title"},o.a.createElement("a",{href:"javascript:",title:u.title,rel:"bookmark"},u.title)),o.a.createElement("div",{className:"entry-info"},o.a.createElement("span",null,"Written by "),o.a.createElement("span",{id:"author-info"},o.a.createElement("a",{href:"javascript:",title:u.fullName},u.fullName)),o.a.createElement("span",{className:"entry-date"},o.a.createElement("time",{className:"entry-date comments-link",dateTime:u.addDatetime},P.a.unix(u.addDatetime).format("MM/DD/YYYY"))),o.a.createElement("span",{className:"comments-link"},"in "),u.category.map((function(e,t){return o.a.createElement("span",{className:"category-link-recipe",key:t},o.a.createElement(D.b,{to:Object(f.p)(f.c,new Map([[f.e,e]]))},e.charAt(0).toUpperCase()+e.slice(1)))}))),o.a.createElement("div",{className:"post-content"},o.a.createElement("p",null,u.description))),o.a.createElement("section",{className:"ingredients"},o.a.createElement("h3",null,"Ingredients"),o.a.createElement("p",null),o.a.createElement("ul",null,u.ingredients.map((function(e,t){return o.a.createElement("li",{key:t,onClick:function(){return function(e){n[e]=!n[e],c(r()(n))}(t)},className:n[t]?"clicked":""},o.a.createElement("span",{className:"tick ".concat(n[t]?"ticked":"")}),e)}))),o.a.createElement("p",null)),o.a.createElement("section",{className:"directions"},o.a.createElement("h3",null,"Directions"),o.a.createElement("p",null),o.a.createElement("ol",null,u.directions.map((function(e,t){return o.a.createElement("li",{key:t},e)})))),o.a.createElement("section",{className:"more-photos"},o.a.createElement("h3",null,o.a.createElement("em",null,"More photos")),o.a.createElement("div",{className:"more-photos-col"},o.a.createElement(M,{pictures:u.photos}))),o.a.createElement(y,{recipeId:m}))),o.a.createElement("div",{className:"aside-container"},o.a.createElement("aside",null,o.a.createElement(k.a,{data:u}),o.a.createElement(S.a,null),o.a.createElement(Y.a,null))))))}}}]);
//# sourceMappingURL=2.bundle.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{211:function(e,a,r){"use strict";r.d(a,"a",(function(){return d}));var t=r(0),s=r.n(t),n=r(10),l=r(4),o=r(17),c=r(21),i=r(9),m=r(3),d=function(){var e=Object(c.a)(i.c).data;return s.a.createElement(s.a.Fragment,null,e?s.a.createElement("div",{className:"links-cloud-wrap"},s.a.createElement("h3",{className:"title"},"Categories"),s.a.createElement("div",{className:"links-cloud"},Object.keys(n.a).map((function(a,r){var t;return s.a.createElement(l.b,{key:r,to:Object(m.p)(m.c,new Map([[m.e,a]]))},a,s.a.createElement("span",{className:"ctg-count"},(null==e||null===(t=e[a])||void 0===t?void 0:t.count)||0))})))):s.a.createElement("div",{className:"loader-container"},s.a.createElement(o.a,null)))}},239:function(e,a,r){"use strict";r.r(a);var t=r(0),s=r.n(t),n=r(23),l=r(8),o=r.n(l),c=r(14),i=r.n(c),m=r(15),d=r.n(m),u=r(6),p=r.n(u),E=r(7),w=r(9);function g(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),r.push.apply(r,t)}return r}function v(e){for(var a=1;a<arguments.length;a++){var r=null!=arguments[a]?arguments[a]:{};a%2?g(Object(r),!0).forEach((function(a){d()(e,a,r[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))}))}return e}var f=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,h={fullName:"",userName:"",email:"",summary:"",password:"",passwordRepeat:""},b=function(){var e=Object(t.useState)({fullNameError:!1,userNameError:!1,emailError:!1,summaryError:!1,passwordError:!1,passwordRepeatError:!1,uploadedFilesError:!1,uploaderReset:!1,passwordsMatchErrorFlag:!1,passwordsValidationErrorFlag:!1,passwordLengthErrorFlag:!1,checkbox:!1,emailValidError:!1}),a=p()(e,2),r=a[0],n=a[1],l=Object(t.useState)(v({},h)),c=p()(l,2),m=c[0],u=c[1],g=Object(t.useState)(!1),b=p()(g,2),N=b[0],y=b[1],O=function(e){var a=e.target.name,r=e.target.value;"textarea"===e.target.type&&r.length>500&&(r=r.substring(0,500),window.toaster.addMessage("Max limit is ".concat(500," chars!"),"error")),u(v(v({},m),{},d()({},a,r)))},x=function(){var e=i()(o.a.mark((function e(a){var t,s,l,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),t={},["fullName","userName","email","summary","password","passwordRepeat"].forEach((function(e){t["".concat(e,"Error")]=!m[e]})),t.emailError||(t.emailValidError=!f.test(m.email)),t.passwordError||(t.passwordLengthErrorFlag=m.password.length<8,t.passwordsValidationErrorFlag=!1),t.passwordError||t.passwordLengthErrorFlag||(s=m.password,t.passwordsValidationErrorFlag=!(/[A-Z]/.test(s)&&/[a-z]/g.test(s)&&/[0-9]/g.test(s)),t.passwordLengthErrorFlag=!1),t.passwordsMatchErrorFlag=m.password.trim()!==m.passwordRepeat.trim(),l={},n(v(v({},r),t)),!Object.values(t).reduce((function(e,a){return e||a}),!1)){e.next=13;break}return window.toaster.addMessage("Please fill in form below!","error"),e.abrupt("return");case 13:return Object.keys(h).filter((function(e){return"passwordRepeat"!==e})).forEach((function(e){return l[e]=m[e]})),e.next=17,fetch(Object(w.n)(w.l),{method:"post",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json"},body:JSON.stringify(l)});case 17:return c=e.sent,e.prev=18,e.next=21,c.json();case 21:(i=e.sent).success?(window.toaster.addMessage("Welcome, gourmand!","info"),u(v({},h)),y(!0)):window.toaster.addMessage(i.message,"error"),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(18),console.error(e.t0),window.toaster.addMessage("Server returned undexpected response...","error");case 29:case"end":return e.stop()}}),e,null,[[18,25]])})));return function(a){return e.apply(this,arguments)}}(),j=r.fullNameError?" error-active":"",k=r.userNameError?" error-active":"",F=r.emailError||r.emailValidError?" error-active":"",P=r.summaryError?" error-active":"",C=r.passwordError||r.passwordsValidationErrorFlag||r.passwordLengthErrorFlag?" error-active":"",M=r.passwordsMatchErrorFlag?" error-active":"";return s.a.createElement("section",{className:"login-field"},N&&s.a.createElement(E.a,{to:"/sign-in"}),s.a.createElement("form",null,s.a.createElement("fieldset",null,s.a.createElement("legend",{className:"title"},"Please Sign Up"),s.a.createElement("div",{className:"data-wrap"},s.a.createElement("div",{className:"data-col-1"},s.a.createElement("label",null,s.a.createElement("input",{value:m.fullName,onChange:O,type:"text",name:"fullName",placeholder:"Full name",className:"text"+j})),s.a.createElement("label",null,s.a.createElement("input",{value:m.userName,onChange:O,type:"text",name:"userName",placeholder:"Username",className:"text"+k})),s.a.createElement("label",null,s.a.createElement("input",{value:m.email,onChange:O,type:"email",name:"email",placeholder:"Email",className:"text"+F}),s.a.createElement("div",{className:"password-errors-wrap"},r.emailValidError&&"Not a valid email address!")),s.a.createElement("textarea",{value:m.summary,onChange:O,name:"summary",placeholder:"Describe yourself...",className:"text"+P}),s.a.createElement("label",null,s.a.createElement("input",{value:m.password,onChange:O,type:r.checkbox?"text":"password",id:"password",name:"password",className:"text "+C,placeholder:"Password"})),s.a.createElement("div",{className:"password-errors-wrap"},r.passwordsValidationErrorFlag&&s.a.createElement("div",null,"Not a valid password (should contain at least one uppercase, one lowercase and one number)!"),r.passwordLengthErrorFlag&&s.a.createElement("div",null,"Password should be minimum 8 chars!")),s.a.createElement("label",null,s.a.createElement("input",{type:"checkbox",onChange:function(e){n(v(v({},r),{},{checkbox:e.target.checked}))},checked:r.checkbox}),"Show password"),s.a.createElement("label",null,s.a.createElement("input",{value:m.passwordRepeat,onChange:O,type:"password",name:"passwordRepeat",className:"text "+M,placeholder:"Confirm password"})),s.a.createElement("div",{className:"password-errors-wrap"},r.passwordsMatchErrorFlag&&s.a.createElement("div",null,"Passwords do not match!"))),s.a.createElement("div",{className:"data-col-2"})),s.a.createElement("input",{id:"signUp",onClick:x,type:"submit",value:"Sign up"}),s.a.createElement("div",{className:"result-cont"}))))},N=r(211);a.default=function(){return s.a.createElement(n.a,null,s.a.createElement("div",{className:"column-content"},s.a.createElement("div",{className:"article-container"},s.a.createElement(b,null)),s.a.createElement("div",{className:"aside-container"},s.a.createElement(N.a,null))))}}}]);
//# sourceMappingURL=4.bundle.js.map
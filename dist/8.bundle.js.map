{"version":3,"sources":["webpack:///./src/Pages/ContactPage.jsx"],"names":["URL_REGEXP","EMAIL_REGEXP","ContactPage","initState","name","email","website","message","submitted","useState","state","setState","userAuthenticated","sessionStorage","getItem","handleChange","target","value","length","substring","window","toaster","addMessage","nameClassName","emailClassName","test","urlClassName","messageClassName","showEmailRegexpError","showUrlRegexpError","className","Fragment","type","onChange","onClick","e","preventDefault","success","data","PersonalData"],"mappings":"+uBAKA,IAAMA,EAAa,ycACbC,EAAe,4JAkINC,UA/HK,WAClB,IAAMC,EAAY,CAChBC,KAAM,GACNC,MAAO,GACPC,QAAS,GACTC,QAAS,GACTC,WAAW,GANW,EASEC,mBAASN,GATX,WASjBO,EATiB,KASVC,EATU,KAUlBC,EAAoBC,eAAeC,QAAQ,cAG3CC,EAAe,SAAC,GAAgC,QAA9BC,OAAUZ,EAAoB,EAApBA,KAAMa,EAAc,EAAdA,MACzB,YAATb,GAAsBa,EAAMC,OAhBlB,MAiBZD,EAAQA,EAAME,UAAU,EAjBZ,KAkBZC,OAAOC,QAAQC,WAAf,gDAlBY,KAkBoE,UAElFX,EAAS,EAAD,KAAMD,GAAN,UAAcN,EAAOa,MAqBzBM,EAAgBb,EAAMF,YAAcE,EAAMN,KAAO,eAAiB,GAClEoB,GAAiBd,EAAMF,WAAeE,EAAML,OAAUJ,EAAawB,KAAKf,EAAML,OAA2B,GAAjB,eACxFqB,EAAehB,EAAMF,WAAaE,EAAMJ,UAAYN,EAAWyB,KAAKf,EAAMJ,SAAW,eAAiB,GACtGqB,EAAmBjB,EAAMF,YAAcE,EAAMH,QAAU,eAAiB,GACxEqB,EAAuBlB,EAAML,QAAUJ,EAAawB,KAAKf,EAAML,OAC/DwB,EAAqBnB,EAAMJ,UAAYN,EAAWyB,KAAKf,EAAMJ,SAEnE,OACE,kBAAC,IAAD,KACE,yBAAKwB,UAAU,kBACb,yBAAKA,UAAU,qBACb,6BAASA,UAAU,gBACjB,4BAAQA,UAAU,kBAChB,wBAAIA,UAAU,eAAd,YAEF,yBAAKA,UAAU,mBACb,+BACIlB,GACA,kBAAC,IAAMmB,SAAP,KACE,yBAAKD,UAAU,gBACb,sCAEE,0BAAMA,UAAU,uBAAhB,KACA,2BACEE,KAAK,OACLF,UAAWP,EACXnB,KAAK,OACLa,MAAOP,EAAMN,KACb6B,SAAUlB,MAIhB,yBAAKe,UAAU,iBACb,uCAEE,0BAAMA,UAAU,uBAAhB,KACA,2BACEE,KAAK,QACLF,UAAWN,EACXpB,KAAK,QACLa,MAAOP,EAAML,MACb4B,SAAUlB,IAEXa,GAAwB,yBAAKE,UAAU,wBAAf,+BAKjC,yBAAKA,UAAU,mBACb,+CAEE,2BACEE,KAAK,MACL5B,KAAK,UACL0B,UAAWJ,EACXT,MAAOP,EAAMJ,QACb2B,SAAUlB,IAEXc,GAAsB,yBAAKC,UAAU,wBAAf,wBAG3B,6BACE,oDAEE,0BAAMA,UAAU,uBAAhB,KACA,8BACEA,UAAWH,EACXvB,KAAK,UACLa,MAAOP,EAAMH,QACb0B,SAAUlB,MAIhB,yBAAKe,UAAU,kBACb,2BAAOE,KAAK,SAASf,MAAM,SAASiB,QA5F/B,SAACC,GACpBA,EAAEC,iBACFzB,EAAS,EAAD,KAAMD,GAAN,IAAaF,WAAW,KAEhC,IAAI6B,EAAU3B,EAAMH,WAAaG,EAAMJ,SAAWN,EAAWyB,KAAKf,EAAMJ,UAEnEM,IACHyB,EAAUA,GAAW3B,EAAMN,MAAQM,EAAML,OAASJ,EAAawB,KAAKf,EAAML,QAGxEgC,GACFjB,OAAOC,QAAQC,WAAW,8CAA+C,QArBzDX,EAAS,EAAD,GAAMR,KAwB9BiB,OAAOC,QAAQC,WAAW,2BAA4B,iBAoFpD,yBAAKQ,UAAU,mBACb,kBAAC,IAAD,CAAaQ,KAAMC","file":"8.bundle.js","sourcesContent":["import React, { useState } from 'react';\nimport { PageFrame } from '../Components/PageFrame';\nimport { AuthorField } from '../Components/AuthorField';\nimport { PersonalData } from '../constants/data';\n\nconst URL_REGEXP = /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i;\nconst EMAIL_REGEXP = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\nconst MAX_CHARS = 600;\n\nconst ContactPage = () => {\n  const initState = {\n    name: '',\n    email: '',\n    website: '',\n    message: '',\n    submitted: false,\n  };\n\n  const [state, setState] = useState(initState);\n  const userAuthenticated = sessionStorage.getItem('isLoggedIn');\n  const reset = () => setState({ ...initState });\n\n  const handleChange = ({ target: { name, value } }) => {\n    if (name === 'message' && value.length > MAX_CHARS) {\n      value = value.substring(0, MAX_CHARS);\n      window.toaster.addMessage(`Sorry, max allowed number of chars is ${MAX_CHARS}`, 'error');\n    }\n    setState({ ...state, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setState({ ...state, submitted: true });\n\n    let success = state.message && (!state.website || URL_REGEXP.test(state.website));\n\n    if (!userAuthenticated) {\n      success = success && state.name && state.email && EMAIL_REGEXP.test(state.email);\n    }\n\n    if (success) {\n      window.toaster.addMessage('Thank you! Your message has been submitted!', 'info');\n      reset();\n    } else {\n      window.toaster.addMessage('Please fill in the form!', 'error');\n    }\n  };\n\n  const nameClassName = state.submitted && !state.name ? 'error-active' : '';\n  const emailClassName = state.submitted && (!state.email || !EMAIL_REGEXP.test(state.email)) ? 'error-active' : '';\n  const urlClassName = state.submitted && state.website && !URL_REGEXP.test(state.website) ? 'error-active' : '';\n  const messageClassName = state.submitted && !state.message ? 'error-active' : '';\n  const showEmailRegexpError = state.email && !EMAIL_REGEXP.test(state.email);\n  const showUrlRegexpError = state.website && !URL_REGEXP.test(state.website);\n\n  return (\n    <PageFrame>\n      <div className=\"column-content\">\n        <div className=\"article-container\">\n          <article className=\"contact-wrap\">\n            <header className=\"contact-header\">\n              <h1 className=\"entry-title\">Contact</h1>\n            </header>\n            <div className=\"contact-content\">\n              <form>\n                {!userAuthenticated && (\n                  <React.Fragment>\n                    <div className=\"contact-name\">\n                      <label>\n                        Name\n                        <span className=\"form-required-label\">*</span>\n                        <input\n                          type=\"text\"\n                          className={nameClassName}\n                          name=\"name\"\n                          value={state.name}\n                          onChange={handleChange}\n                        />\n                      </label>\n                    </div>\n                    <div className=\"contact-email\">\n                      <label>\n                        Email\n                        <span className=\"form-required-label\">*</span>\n                        <input\n                          type=\"email\"\n                          className={emailClassName}\n                          name=\"email\"\n                          value={state.email}\n                          onChange={handleChange}\n                        />\n                        {showEmailRegexpError && <div className=\"password-errors-wrap\">This is not valid email!</div>}\n                      </label>\n                    </div>\n                  </React.Fragment>\n                )}\n                <div className=\"contact-website\">\n                  <label>\n                    Website / URL\n                    <input\n                      type=\"url\"\n                      name=\"website\"\n                      className={urlClassName}\n                      value={state.website}\n                      onChange={handleChange}\n                    />\n                    {showUrlRegexpError && <div className=\"password-errors-wrap\">Enter a valid url!</div>}\n                  </label>\n                </div>\n                <div>\n                  <label>\n                    Comment or Message\n                    <span className=\"form-required-label\">*</span>\n                    <textarea\n                      className={messageClassName}\n                      name=\"message\"\n                      value={state.message}\n                      onChange={handleChange}\n                    />\n                  </label>\n                </div>\n                <div className=\"contact-submit\">\n                  <input type=\"submit\" value=\"Submit\" onClick={handleSubmit} />\n                </div>\n              </form>\n            </div>\n          </article>\n        </div>\n        <div className=\"aside-container\">\n          <AuthorField data={PersonalData} />\n        </div>\n      </div>\n    </PageFrame>\n  );\n};\n\nexport default ContactPage;\n"],"sourceRoot":""}
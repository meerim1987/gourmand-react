(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{212:function(e,t,r){"use strict";var a=r(8),n=r.n(a),s=r(14),o=r.n(s),c=r(15),l=r.n(c),u=r(6),i=r.n(u),p=r(0),m=r.n(p),d=r(7),f=r(21),g=r(9),w=r(3);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var E={userName:"",password:""},O={usernameError:!1,passwordError:!1};t.a=function(){var e=Object(p.useState)(b({},E)),t=i()(e,2),r=t[0],a=t[1],s=Object(p.useState)(b({},O)),c=i()(s,2),u=c[0],v=c[1],j=Object(d.g)(),h=Object(f.a)(Object(w.p)(g.h,new Map([[w.g,null==r?void 0:r.userName],[w.j,null==r?void 0:r.password]])),!0,{credentials:"include"}),y=h.data,N=h.get;Object(p.useEffect)((function(){if(null!==y)if(y.success){sessionStorage.setItem("isLoggedIn",!0),S();var e=y.fullName;window.toaster.addMessage("Welcome, "+e+"!","info"),sessionStorage.setItem("name",e),sessionStorage.getItem("prevUrl")?j.push(sessionStorage.getItem("prevUrl")):j.push("/")}else window.toaster.addMessage("Not a valid username or password!","error")}),[y]);var P=function(e){var t=e.target,n=t.name,s=t.value;a(b(b({},r),{},l()({},n,s)))},S=function(){a(b({},E)),a(b({},O))},k=function(){var e=o()(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a={},Object.keys(E).forEach((function(e){return a["".concat(e,"Error")]=!r[e]})),v(a),r.userName&&r.password?N():window.toaster.addMessage("The field is required!","error");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return m.a.createElement("section",{className:"login-field"},m.a.createElement("form",null,m.a.createElement("fieldset",null,m.a.createElement("legend",{className:"title"},"Please log in"),m.a.createElement("label",null,m.a.createElement("input",{value:r.userName,onChange:P,type:"text",name:"userName",placeholder:"Username",className:"text"+(u.userNameError?" error-active":"")})),m.a.createElement("label",null,m.a.createElement("input",{value:r.password,onChange:P,type:"password",name:"password",className:"text"+(u.passwordError?" error-active":""),placeholder:"Password"})),m.a.createElement("input",{type:"submit",value:"Login",onClick:k}),m.a.createElement("div",{className:"result-cont"}))))}},233:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),s=r(23),o=r(212),c=r(4);t.default=function(){return n.a.createElement(s.a,null,n.a.createElement(o.a,null),n.a.createElement("div",{className:"sign-up-here-note"},n.a.createElement("span",null,"Not yet a gourmand?"),n.a.createElement("span",{className:"sign-up-link"},n.a.createElement(c.b,{to:"/sign-up"},"Sign up"),"here 🍝")))}}}]);
//# sourceMappingURL=5.bundle.js.map